(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{0:function(t,e,n){t.exports=n("2f39")},"0047":function(t,e,n){},"2f39":function(t,e,n){"use strict";n.r(e);var a=n("967e"),s=n.n(a),r=(n("a481"),n("96cf"),n("fa84")),o=n.n(r),i=(n("7d6e"),n("e54f"),n("21cb"),n("3e27"),n("985d"),n("0047"),n("2b0e")),c=n("1f91"),u=n("42d2"),f=n("b05d"),d=n("7f67"),p=n("436b"),l=n("18d6"),h=n("a639"),g=n("2a19");i["a"].use(f["a"],{config:{notify:{type:"info"}},lang:c["a"],iconSet:u["a"],directives:{ClosePopup:d["a"]},plugins:{Dialog:p["a"],LocalStorage:l["a"],SessionStorage:h["a"],Notify:g["a"]}});var k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},b=[],m=(n("8e6e"),n("8a81"),n("ac6a"),n("cadf"),n("06db"),n("456d"),n("c47a")),v=n.n(m),w=n("2f62");function S(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){v()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y={methods:O({},Object(w["b"])("settings",["getSettings"]),{},Object(w["b"])("auth",["handleAuthStateChange"])),mounted:function(){this.getSettings(),this.handleAuthStateChange()}},T=y,j=(n("cf25"),n("2877")),x=Object(j["a"])(T,k,b,!1,null,null,null),I=x.exports,P=(n("7f7f"),n("6762"),n("2fdb"),n("dad6")),D=n.n(P),L=(n("386d"),n("f751"),n("1732")),E=n("59ca"),U=(n("ea7b"),n("66ce"),{apiKey:"AIzaSyB5E8mKti6-GU0l-RG4jtg84vFbw-5qESk",authDomain:"hs-app-e8267.firebaseapp.com",databaseURL:"https://hs-app-e8267.firebaseio.com",projectId:"hs-app-e8267",storageBucket:"hs-app-e8267.appspot.com",messagingSenderId:"116422542318",appId:"1:116422542318:web:2c0c86f498d8c96d7d04ff",measurementId:"G-83VG4SF99T"}),C=E["initializeApp"](U),A=C.auth(),F=C.database(),H=n("f508");function $(t){H["a"].hide(),p["a"].create({title:"Error",message:t})}var _={tasks:{},search:"",sort:"name",tasksDownloaded:!1},G={updateTask:function(t,e){Object.assign(t.tasks[e.id],e.updates)},deleteTask:function(t,e){i["a"].delete(t.tasks,e)},addTask:function(t,e){i["a"].set(t.tasks,e.id,e.task)},clearTasks:function(t){t.tasks={}},setSearch:function(t,e){t.search=e},setSort:function(t,e){t.sort=e},setTasksDownloaded:function(t,e){t.tasksDownloaded=e}},R={updateTask:function(t,e){var n=t.dispatch;n("fbUpdateTask",e)},deleteTask:function(t,e){var n=t.dispatch;n("fbDeleteTask",e)},addTask:function(t,e){var n=t.dispatch,a=Object(L["a"])(),s={id:a,task:e};n("fbAddTask",s)},setSearch:function(t,e){var n=t.commit;n("setSearch",e)},setSort:function(t,e){var n=t.commit;n("setSort",e)},fbReadData:function(t){var e=this,n=t.commit,a=A.currentUser.uid,s=F.ref("tasks/"+a);s.once("value",(function(t){n("setTasksDownloaded",!0)}),(function(t){t&&($(t.message),e.$router.replace("/auth"))})),s.on("child_added",(function(t){var e=t.val(),a={id:t.key,task:e};n("addTask",a)})),s.on("child_changed",(function(t){var e=t.val(),a={id:t.key,updates:e};n("updateTask",a)})),s.on("child_removed",(function(t){var e=t.key;n("deleteTask",e)}))},fbAddTask:function(t,e){D()(t);var n=A.currentUser.uid,a=F.ref("tasks/"+n+"/"+e.id);a.set(e.task,(function(t){t?$(t.message):g["a"].create("Запись успешно добавлена")}))},fbUpdateTask:function(t,e){D()(t);var n=A.currentUser.uid,a=F.ref("tasks/"+n+"/"+e.id);a.update(e.updates,(function(t){if(t)$(t.message);else{var n=Object.keys(e.updates);n.includes("completed")&&1==n.length||g["a"].create("Изменения успешно сохранены")}}))},fbDeleteTask:function(t,e){D()(t);var n=A.currentUser.uid,a=F.ref("tasks/"+n+"/"+e);a.remove((function(t){t?$(t.message):g["a"].create("Запись успешно удалена")}))}},V={tasksSorted:function(t){var e={},n=Object.keys(t.tasks);return n.sort((function(e,n){var a=t.tasks[e][t.sort].toLowerCase(),s=t.tasks[n][t.sort].toLowerCase();return a>s?1:a<s?-1:0})),n.forEach((function(n){e[n]=t.tasks[n]})),e},tasksFiltered:function(t,e){var n=e.tasksSorted,a={};return t.search?(Object.keys(n).forEach((function(e){var s=n[e],r=s.name.toLowerCase(),o=t.search.toLowerCase();r.includes(o)&&(a[e]=s)})),a):n},tasksTodo:function(t,e){var n=e.tasksFiltered,a={};return Object.keys(n).forEach((function(t){var e=n[t];e.completed||(a[t]=e)})),a},tasksCompleted:function(t,e){var n=e.tasksFiltered,a={};return Object.keys(n).forEach((function(t){var e=n[t];e.completed&&(a[t]=e)})),a}},q={namespaced:!0,state:_,mutations:G,actions:R,getters:V},B={settings:{show12Hour:!1,showTasksInOneList:!1}},z={setShow12Hour:function(t,e){t.settings.show12Hour=e},setShowTasksInOneList:function(t,e){t.settings.showTasksInOneList=e},setSettings:function(t,e){Object.assign(t.settings,e)}},J={setShow12Hour:function(t,e){var n=t.commit,a=t.dispatch;n("setShow12Hour",e),a("saveSettings")},setShowTasksInOneList:function(t,e){var n=t.commit,a=t.dispatch;n("setShowTasksInOneList",e),a("saveSettings")},saveSettings:function(t){var e=t.state;l["a"].set("settings",e.settings)},getSettings:function(t){var e=t.commit,n=l["a"].getItem("settings");n&&e("setSettings",n)}},K={settings:function(t){return t.settings}},W={namespaced:!0,state:B,mutations:z,actions:J,getters:K},N={loggedIn:!1},Q={setLoggedIn:function(t,e){t.loggedIn=e}},M={registerUser:function(t,e){D()(t),H["a"].show(),A.createUserWithEmailAndPassword(e.email,e.password).then((function(t){})).catch((function(t){$(t.message)}))},loginUser:function(t,e){D()(t),H["a"].show(),A.signInWithEmailAndPassword(e.email,e.password).then((function(t){})).catch((function(t){$(t.message)}))},logoutUser:function(){A.signOut()},handleAuthStateChange:function(t){var e=this,n=t.commit,a=t.dispatch;A.onAuthStateChanged((function(t){H["a"].hide(),t?(n("setLoggedIn",!0),l["a"].set("loggedIn",!0),e.$router.push("/").catch((function(t){})),a("tasks/fbReadData",null,{root:!0})):(n("tasks/clearTasks",null,{root:!0}),n("tasks/setTasksDownloaded",!1,{root:!0}),n("setLoggedIn",!1),l["a"].set("loggedIn",!1),e.$router.replace("/auth").catch((function(t){})))}))}},X={},Y={namespaced:!0,state:N,mutations:Q,actions:M,getters:X};i["a"].use(w["a"]);var Z=function(){var t=new w["a"].Store({modules:{tasks:q,settings:W,auth:Y},strict:!1});return t},tt=n("8c4f"),et=[{path:"/",component:function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"a9c3"))},children:[{path:"",component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"10d0"))}},{path:"/settings",component:function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"311b"))}},{path:"/about",component:function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"ad01"))}},{path:"/help",component:function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"1a2f"))}},{path:"/auth",component:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"f724"))}}]}];et.push({path:"*",component:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"e086"))}});var nt=et;i["a"].use(tt["a"]);var at=function(){var t=new tt["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:nt,mode:"hash",base:""});return t},st=function(){return rt.apply(this,arguments)};function rt(){return rt=o()(s.a.mark((function t(){var e,n,a;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("function"!==typeof Z){t.next=6;break}return t.next=3,Z({Vue:i["a"]});case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=Z;case 7:if(e=t.t0,"function"!==typeof at){t.next=14;break}return t.next=11,at({Vue:i["a"],store:e});case 11:t.t1=t.sent,t.next=15;break;case 14:t.t1=at;case 15:return n=t.t1,e.$router=n,a={el:"#q-app",router:n,store:e,render:function(t){return t(I)}},t.abrupt("return",{app:a,store:e,router:n});case 19:case"end":return t.stop()}}),t)}))),rt.apply(this,arguments)}var ot=function(){var t=o()(s.a.mark((function t(e){var n;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.router,n.beforeEach((function(t,e,n){var a=l["a"].getItem("loggedIn");a||"/auth"===t.path?n():n("/auth")}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function it(){return ct.apply(this,arguments)}function ct(){return ct=o()(s.a.mark((function t(){var e,n,a,r,o,c,u,f,d;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,st();case 2:e=t.sent,n=e.app,a=e.store,r=e.router,o=!0,c=function(t){o=!1,window.location.href=t},u=window.location.href.replace(window.location.origin,""),f=[void 0,ot],d=0;case 11:if(!(!0===o&&d<f.length)){t.next=29;break}if("function"===typeof f[d]){t.next=14;break}return t.abrupt("continue",26);case 14:return t.prev=14,t.next=17,f[d]({app:n,router:r,store:a,Vue:i["a"],ssrContext:null,redirect:c,urlPath:u});case 17:t.next=26;break;case 19:if(t.prev=19,t.t0=t["catch"](14),!t.t0||!t.t0.url){t.next=24;break}return window.location.href=t.t0.url,t.abrupt("return");case 24:return console.error("[Quasar] boot error:",t.t0),t.abrupt("return");case 26:d++,t.next=11;break;case 29:if(!1!==o){t.next=31;break}return t.abrupt("return");case 31:new i["a"](n);case 32:case"end":return t.stop()}}),t,null,[[14,19]])}))),ct.apply(this,arguments)}it()},"95ae":function(t,e,n){},cf25:function(t,e,n){"use strict";var a=n("95ae"),s=n.n(a);s.a}},[[0,2,0]]]);